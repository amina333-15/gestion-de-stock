<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Restock - AF.ELEC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- STYLE CSS DE BASE -->
    <link rel="stylesheet" href="css/style.css">

    <!-- LIEN ICONS BOOTSTRAP -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- ICON LOGO ENTREPRISE -->
    <link rel="icon" href="img/logo.png">

    <!-- RESTOCK CSS -->
    <link rel="stylesheet" href="css/restock.css">

    <!-- MOBILE CSS -->
    <link rel="stylesheet" href="css/responsive.css">

</head>
<body>

<!-- HEADER / MENU -->
<header class="header">
    <div class="logo-container">
        <img src="img/logo.png" alt="Logo">
        <span>ELEC</span>
    </div>

    <nav>
        <a href="dashboard.html"><i class="bi bi-speedometer2"></i> Tableau de bord</a>
        <a href="stock.html"><i class="bi bi-box-seam"></i> Stock</a>
        <a href="categorie.html"><i class="bi bi-tags-fill"></i> Catégories</a>
        <a href="restock.html"><i class="bi bi-arrow-repeat"></i> Restock</a>
        <a href="#" onclick="logout()"><i class="bi bi-power"></i></a>
    </nav>

    <!-- MENU MOBILE -->
    <div class="header-mobile">

        <!-- Icône menu -->
        <div class="icon-menu-custom" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <!-- MENU DÉPLIANT MOBILE -->
        <div class="side-menu" id="mobileMenu">

            <div class="menu-header">
                <span>Menu</span>
                <i class="bi bi-x-lg" onclick="toggleMobileMenu()"></i>
            </div>

            <div class="menu-links">
                <a href="dashboard.html"><i class="bi bi-speedometer2"></i> Tableau de bord</a>
                <a href="stock.html"><i class="bi bi-box-seam"></i> Stock</a>
                <a href="categorie.html"><i class="bi bi-tags-fill"></i> Catégories</a>
                <a href="restock.html"><i class="bi bi-arrow-repeat"></i> Restock</a>
                <a href="#" onclick="logout()"><i class="bi bi-power"></i> Déconnexion</a>
            </div>

        </div>

    </div>

</header>
<h1> </h1>

<!-- CONTENU PAGE RESTOCK -->
<section class="restock-layout">

    <!-- LISTE DES RESTOCKS -->
    <div class="transactions-list">
        <div class="search-bar">
        <input type="text" id="search" placeholder="Rechercher une transaction...">
        <button class="search-btn"><i class="bi bi-search"></i></button>
        </div>

        <div id="transaction-items"></div>
        <p id="no-results" style="display:none; margin-top:10px; color:#777; text-align:center;">
            <i class="bi bi-search"></i><br>Aucune transaction trouvée.
        </p>

    </div>

    <!-- DETAILS DES RESTOCKS -->
    <div class="transaction-detail" id="transaction-detail">
        <h2 id="transaction-title">
            <i class="bi bi-journal-text"></i><br>
            Détail de la transaction
        </h2>
        <p>Sélectionnez une transaction dans la liste à gauche</p>
    </div>
</section>

<!-- POP-UP AJOUT -->
<div class="popup-overlay" id="popup-add">
    <div class="popup-box">
        <span class="close-btn" onclick="fermerPopupAdd()">&times;</span>

        <h3>Ajouter une transaction</h3>

        <form id="form-transaction-add">
            <select id="produit-select-add" required>
                <option value="">Sélectionnez un produit</option>
            </select>

            <div id="produit-infos-add" style="margin-top: 15px; display: none;">
                <p><strong>Nom :</strong> <span id="info-nom-add"></span></p>
                <p><strong>Catégorie :</strong> <span id="info-cat-add"></span></p>
                <p><strong>Quantité actuelle :</strong> <span id="info-quantite-add"></span></p>
            </div>

            <input type="number" id="quantite-ajout-add" placeholder="Quantité à ajouter" required>
            <button type="submit" class="popup-submit"><i class="bi bi-check-lg"></i></button>
        </form>
    </div>
</div>

<!-- POP-UP MODIFICATION -->
<div class="popup-overlay" id="popup-edit">
    <div class="popup-box">
        <span class="close-btn" onclick="fermerPopupEdit()">&times;</span>

        <h3>Modifier la transaction</h3>

        <form id="form-transaction-edit">
            <select id="produit-select-edit" required>
                <option value="">Sélectionnez un produit</option>
            </select>

            <div id="produit-infos-edit" style="margin-top: 15px; display: none;">
                <p><strong>Nom :</strong> <span id="info-nom-edit"></span></p>
                <p><strong>Catégorie :</strong> <span id="info-cat-edit"></span></p>
                <p><strong>Quantité actuelle :</strong> <span id="info-quantite-edit"></span></p>
            </div>

            <input type="number" id="quantite-ajout-edit" placeholder="Quantité à ajouter" required>
            <button type="submit" class="popup-submit"><i class="bi bi-check-lg"></i></button>
        </form>
    </div>
</div>

<!-- FOOTER -->
<footer>
    <div class="align-nav">
        <h1>Navigation</h1>
    </div>

    <div class="footer-container">


        <table class="footer-table">
            <tr>
                <td><a href="dashboard.html"><i class="bi bi-speedometer2"></i> Tableau de bord</a></td>
                <td><a href="restock.html"><i class="bi bi-arrow-repeat"></i> Restock</a></td>

            </tr>

            <tr>
                <td><a href="stock.html"><i class="bi bi-box-seam"></i> Stock</a></td>
                <td><a href="#" onclick="logout()"><i class="bi bi-power"></i> Déconnexion</a></td>

            </tr>


            <tr>
                <td>
                    <a href="categorie.html"><i class="bi bi-tags-fill"></i> Catégories</a>
                </td>
                <td>
                    <p>hkqsfbjqfb</p>
                </td>
            </tr>
        </table>
    </div>
</footer>

<!-- FOOTER MOBILE -->
<div class="footer-app">
    <nav class="footer-nav">
        <a href="dashboard.html"><i class="bi bi-speedometer2"></i></a>
        <a href="stock.html"><i class="bi bi-box-seam"></i></a>
        <a href="categorie.html"><i class="bi bi-tags-fill"></i></a>
        <a href="restock.html"><i class="bi bi-arrow-repeat"></i></a>
        <a href="#" onclick="logout()"><i class="bi bi-power"></i></a>
    </nav>
</div>

<button class="floating-add-btn" onclick="ouvrirPopup()">
    <i class="bi bi-plus-lg"></i>
</button>

<!-- LIEN BDD SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- SCRIPT DE BASE -->
<script src="js/app.js"></script>

<!-- JS spécifique Restock -->
<script src="js/restock.js"></script>

<!-- JS App Mobile -->
<script src="js/responsive.js"></script>

</body>
</html>