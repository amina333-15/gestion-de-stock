<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Tableau de bord - AF.ELEC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- STYLE CSS DE BASE -->
    <link rel="stylesheet" href="css/style.css">

    <!-- LIEN ICONS BOOTSTRAP -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- ICON LOGO ENTREPRISE -->
    <link rel="icon" href="img/logo.png">

    <!-- DASHBOARD CSS -->
    <link rel="stylesheet" href="css/dashboard.css">

    <!-- MOBILE CSS -->
    <link rel="stylesheet" href="css/responsive.css">

</head>

<body>

<!-- HEADER / MENU -->
<header class="header">
    <div class="logo-container">
        <img src="img/logo.png" alt="Logo">
        <span>ELEC</span>
    </div>

    <nav>
        <a href="dashboard.html"><i class="bi bi-speedometer2"></i> Tableau de bord</a>
        <a href="stock.html"><i class="bi bi-box-seam"></i> Stock</a>
        <a href="categorie.html"><i class="bi bi-tags-fill"></i> Catégories</a>
        <a href="restock.html"><i class="bi bi-arrow-repeat"></i> Restock</a>
        <a href="#" onclick="logout()"><i class="bi bi-power"></i></a>
    </nav>

    <!-- MENU MOBILE -->
    <div class="header-mobile">

        <!-- Icône menu -->
        <div class="icon-menu-custom" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <!-- MENU DÉPLIANT MOBILE -->
        <div class="side-menu" id="mobileMenu">

            <div class="menu-header">
                <span>Menu</span>
                <i class="bi bi-x-lg" onclick="toggleMobileMenu()"></i>
            </div>

            <div class="menu-links">
                <a href="dashboard.html"><i class="bi bi-speedometer2"></i> Tableau de bord</a>
                <a href="stock.html"><i class="bi bi-box-seam"></i> Stock</a>
                <a href="categorie.html"><i class="bi bi-tags-fill"></i> Catégories</a>
                <a href="restock.html"><i class="bi bi-arrow-repeat"></i> Restock</a>
                <a href="#" onclick="logout()"><i class="bi bi-power"></i> Déconnexion</a>
            </div>

        </div>

    </div>

</header>

<!-- CONTENU -->
<section class="container">
    <h1>Tableau de bord</h1>

    <div class="dashboard-grid">

        <!-- Produits en stock -->
        <div class="dashboard-card">
            <div class="card-left">
                <p class="card-label">Produits en stock</p>
                <p class="card-value">7</p>
            </div>
            <a href="stock.html" class="card-icon">
                <i class="bi bi-box-seam"></i>
            </a>
        </div>

        <!-- Nombre de catégories -->
        <div class="dashboard-card">
            <div class="card-left">
                <p class="card-label">Nombre de catégories</p>
                <p class="card-value" id="nombre-categories">...</p>
            </div>
            <a href="categorie.html" class="card-icon">
                <i class="bi bi-tags"></i>
            </a>
        </div>

        <!-- État du stock -->
        <div class="stock-status-vertical">

            <div class="stock-step">
                <div class="circle">1</div>
                <div class="label-block">
                    <div class="label-line">
                        <span class="label">Stock normal</span><br>
                        <span class="value" id="nb-stock-normal">0</span>
                    </div>
<!--                    <span class="condition">≥ 5</span>-->
                </div>
            </div>

            <div class="connector-vertical"></div>

            <div class="stock-step">
                <div class="circle">2</div>
                <div class="label-block">
                    <div class="label-line">
                        <span class="label">Stock faible</span><br>
                        <span class="value" id="nb-stock-faible">0</span>
                    </div>
<!--                    <span class="condition">≤ 2</span>-->
                </div>
            </div>

            <div class="connector-vertical"></div>

            <div class="stock-step">
                <div class="circle">3</div>
                <div class="label-block">
                    <div class="label-line">
                        <span class="label">Rupture</span><br>
                        <span class="value" id="nb-stock-rupture">0</span>
                    </div>
<!--                    <span class="condition">= 0</span>-->
                </div>
            </div>

        </div>

        <!-- Total transactions -->
        <div class="dashboard-card">
            <div class="card-left">
                <p class="card-label">Total des transactions</p>
                <p class="card-value" id="total-transactions">...</p>
            </div>
            <a href="restock.html" class="card-icon">
                <i class="bi bi-arrow-repeat"></i>
            </a>
        </div>

        <!-- Dernière ajout -->
        <div class="half-box" style="grid-column: 1 / span 2;">
            <h3>Dernière ajout au stock</h3>
            <p id="derniere-ajout" class="product-list">...</p>
        </div>

        <!-- Produits critiques -->
        <div class="half-box" style="grid-column: 3 / span 1;">
            <h3>Produits critiques</h3>
            <div id="produits-critiques" class="product-list"></div>
        </div>

    </div>
</section>

<!-- FOOTER -->
<footer>
    <div class="align-nav">
        <h1>Navigation</h1>
    </div>

    <div class="footer-container">
        <table class="footer-table">
            <tr>
                <td><a href="dashboard.html"><i class="bi bi-speedometer2"></i> Tableau de bord</a></td>
                <td><a href="restock.html"><i class="bi bi-arrow-repeat"></i> Restock</a></td>
            </tr>
            <tr>
                <td><a href="stock.html"><i class="bi bi-box-seam"></i> Stock</a></td>
                <td><a href="#" onclick="logout()"><i class="bi bi-power"></i> Déconnexion</a></td>
            </tr>
            <tr>
                <td><a href="categorie.html"><i class="bi bi-tags-fill"></i> Catégories</a></td>
                <td><p>hkqsfbjqfb</p></td>
            </tr>
        </table>
    </div>
</footer>

<!-- FOOTER MOBILE -->
<div class="footer-app">
    <nav class="footer-nav">
    <a href="dashboard.html"><i class="bi bi-speedometer2"></i></a>
        <a href="stock.html"><i class="bi bi-box-seam"></i></a>
        <a href="categorie.html"><i class="bi bi-tags-fill"></i></a>
        <a href="restock.html"><i class="bi bi-arrow-repeat"></i></a>
        <a href="#" onclick="logout()"><i class="bi bi-power"></i></a>
    </nav>
</div>

<!-- LIEN BDD SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- SCRIPT DE BASE -->
<script src="js/app.js"></script>

<!-- JS spécifique Dashboard -->
<script src="js/dashboard.js"></script>


<!-- JS App Mobile -->
<script src="js/responsive.js"></script>

</body>
</html>